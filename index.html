<!DOCTYPE html>
<html lang="ti">
<head>
<meta charset="UTF-8">
<title>DJ Adu | Booking</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body {
  margin: 0;
  font-family: Arial, sans-serif;
  background: linear-gradient(rgba(0,0,0,.6), rgba(0,0,0,.9)),
              url("dj-adu-bg.jpg") center top / cover no-repeat;
  color: #fff;
}

.container {
  padding: 20px;
  max-width: 450px;
  margin: auto;
}

h1 {
  text-align: center;
  color: #00fff7;
}

input, select, textarea, button {
  width: 100%;
  padding: 12px;
  margin-bottom: 12px;
  border-radius: 8px;
  border: none;
}

button {
  background: linear-gradient(90deg,#ff00cc,#00fff7);
  font-weight: bold;
}

.map {
  margin-top: 20px;
  border-radius: 15px;
  overflow: hidden;
}

a.pay {
  display: block;
  margin-top: 10px;
  background: gold;
  color: black;
  padding: 12px;
  text-align: center;
  border-radius: 8px;
  font-weight: bold;
  text-decoration: none;
}
</style>
</head>

<body>
<div class="container">

<h1>DJ Adu ·ãµ·åÄ·ã≠ ·ä£·ã±</h1>

<form id="bookingForm">
  <input id="name" placeholder="·àΩ·àù" required>
  <input id="phone" placeholder="·â¥·àå·çé·äï" required>
  <input id="email" placeholder="Email" required>

  <select id="eventType" required>
    <option value="">·ãì·ã≠·äê·âµ ·ãç·à´·ã≠</option>
    <option>·àò·à≠·ãì</option>
    <option>·å•·àù·âê·âµ</option>
    <option>·àï·å∏</option>
  </select>

  <input id="eventPlace" placeholder="üìç ·â¶·â≥ ·ãç·à´·ã≠" required>
  <input id="eventDate" type="date" required onclick="this.showPicker && this.showPicker()">

  <textarea id="message" placeholder="·àò·àç·ä•·äΩ·â≤"></textarea>

  <button type="submit">Send Booking</button>
</form>

<a class="pay" href="YOUR_STRIPE_PAYMENT_LINK" target="_blank">
üí≥ Pay Deposit to Confirm
</a>

<div class="map">
  <iframe id="map" width="100%" height="250"
    src="https://www.google.com/maps?q=Canada&output=embed"></iframe>
</div>

<p style="text-align:center;">
<a id="directions" target="_blank" style="color:#ff00cc;">üß≠ Directions</a>
</p>

</div>

<script src="https://cdn.jsdelivr.net/npm/emailjs-com@3/dist/email.min.js"></script>
<script>
emailjs.init("YOUR_EMAILJS_PUBLIC_KEY");

const placeInput = document.getElementById("eventPlace");
const map = document.getElementById("map");
const directions = document.getElementById("directions");

placeInput.addEventListener("input", () => {
  const p = encodeURIComponent(placeInput.value);
  map.src = `https://www.google.com/maps?q=${p}&output=embed`;
  directions.href = `https://www.google.com/maps/dir/?api=1&destination=${p}`;
});

let customerLocation = "Unknown";
navigator.geolocation?.getCurrentPosition(pos=>{
  fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${pos.coords.latitude}&lon=${pos.coords.longitude}`)
  .then(r=>r.json())
  .then(d=> customerLocation = `${d.address.city||""}, ${d.address.country||""}`);
});

document.getElementById("bookingForm").addEventListener("submit", e=>{
  e.preventDefault();

  const data = {
    name: name.value,
    phone: phone.value,
    email: email.value,
    eventType: eventType.value,
    eventPlace: eventPlace.value,
    eventDate: eventDate.value,
    message: message.value,
    location: customerLocation
  };

  fetch("YOUR_GOOGLE_SCRIPT_URL", {
    method:"POST",
    body: JSON.stringify(data)
  });

  emailjs.send("SERVICE_ID","TEMPLATE_ID",data);

  const msg = `
DJ Adu Booking
Name: ${data.name}
Event: ${data.eventType}
Place: ${data.eventPlace}
Date: ${data.eventDate}
Location: ${data.location}
`;

  window.open("https://wa.me/18253658347?text="+encodeURIComponent(msg));
});
</script>
</body>
</html>
